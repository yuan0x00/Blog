<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Android 应用构建流程 | Blog</title>
    <meta name="description" content="A VitePress site">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/Blog/assets/style.CofGc7wS.css" as="style">
    <link rel="preload stylesheet" href="/Blog/vp-icons.css" as="style">
    <script type="module" src="/Blog/assets/chunks/metadata.1d2c49cb.js"></script>
    <script type="module" src="/Blog/assets/app.Dv-8ep_u.js"></script>
    <link rel="preload" href="/Blog/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/Blog/assets/chunks/theme.CrmVmiOk.js">
    <link rel="modulepreload" href="/Blog/assets/chunks/framework.BjpnAPRY.js">
    <link rel="modulepreload" href="/Blog/assets/android_语言与基础_Android应用构建流程.md.hD0VMUqS.lean.js">
    <link rel="icon" type="image/svg+xml" href="https://vitepress.dev/vitepress-logo-mini.svg">
    <link rel="icon" type="image/png" href="https://vitepress.dev/vitepress-logo-mini.png">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/Blog/" data-v-1168a8e4><!--[--><!--]--><!--[--><img class="VPImage logo" src="/Blog/android.svg" width="24" height="24" alt data-v-8426fc1a><!--]--><span data-v-1168a8e4>Blog</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/Blog/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>首页</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/Blog/android/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Android</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/Blog/kotlin/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Kotlin</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/Blog/react-native/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>React Native</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/Blog/record/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Record</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/yuan0x00" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>深浅模式</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/yuan0x00" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>返回顶部</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Android</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/Blog/android/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>概览</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>架构</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/Blog/android/%E6%9E%B6%E6%9E%84/%E6%9E%B6%E6%9E%84" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>架构</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible has-active" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>语言与基础</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/Blog/android/%E8%AF%AD%E8%A8%80%E4%B8%8E%E5%9F%BA%E7%A1%80/Android%E5%BA%94%E7%94%A8%E6%9E%84%E5%BB%BA%E6%B5%81%E7%A8%8B" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Android应用构建流程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/Blog/android/%E8%AF%AD%E8%A8%80%E4%B8%8E%E5%9F%BA%E7%A1%80/Android%E5%BA%94%E7%94%A8%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Android应用启动流程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/Blog/android/%E8%AF%AD%E8%A8%80%E4%B8%8E%E5%9F%BA%E7%A1%80/Java%20Android%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Java Android知识体系</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/Blog/android/%E8%AF%AD%E8%A8%80%E4%B8%8E%E5%9F%BA%E7%A1%80/Jvm%E5%AF%B9%E6%AF%94Art" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Jvm对比Art</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>主流库源码</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/Blog/android/%E4%B8%BB%E6%B5%81%E5%BA%93%E6%BA%90%E7%A0%81/Glide%E5%8E%9F%E7%90%86%E6%BA%90%E7%A0%81" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Glide原理源码</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/Blog/android/%E4%B8%BB%E6%B5%81%E5%BA%93%E6%BA%90%E7%A0%81/OkHttp%E5%8E%9F%E7%90%86%E6%BA%90%E7%A0%81" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>OkHttp原理源码</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/Blog/android/%E4%B8%BB%E6%B5%81%E5%BA%93%E6%BA%90%E7%A0%81/Retrofit%E5%8E%9F%E7%90%86%E6%BA%90%E7%A0%81" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Retrofit原理源码</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/Blog/android/%E4%B8%BB%E6%B5%81%E5%BA%93%E6%BA%90%E7%A0%81/RxJava%E5%8E%9F%E7%90%86%E6%BA%90%E7%A0%81" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>RxJava原理源码</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 collapsible" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>Jetpack</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/Blog/android/%E4%B8%BB%E6%B5%81%E5%BA%93%E6%BA%90%E7%A0%81/Jetpack/ConstraintLayout%E5%8E%9F%E7%90%86%E6%BA%90%E7%A0%81" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>ConstraintLayout原理源码</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/Blog/android/%E4%B8%BB%E6%B5%81%E5%BA%93%E6%BA%90%E7%A0%81/Jetpack/Hilt%E5%8E%9F%E7%90%86%E6%BA%90%E7%A0%81" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Hilt原理源码</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/Blog/android/%E4%B8%BB%E6%B5%81%E5%BA%93%E6%BA%90%E7%A0%81/Jetpack/Lifecycle%E5%8E%9F%E7%90%86%E6%BA%90%E7%A0%81" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Lifecycle原理源码</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/Blog/android/%E4%B8%BB%E6%B5%81%E5%BA%93%E6%BA%90%E7%A0%81/Jetpack/LiveData%E5%8E%9F%E7%90%86%E6%BA%90%E7%A0%81" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>LiveData原理源码</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/Blog/android/%E4%B8%BB%E6%B5%81%E5%BA%93%E6%BA%90%E7%A0%81/Jetpack/RecyclerView%E5%8E%9F%E7%90%86%E6%BA%90%E7%A0%81" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>RecyclerView原理源码</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/Blog/android/%E4%B8%BB%E6%B5%81%E5%BA%93%E6%BA%90%E7%A0%81/Jetpack/Room%E5%8E%9F%E7%90%86%E6%BA%90%E7%A0%81" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Room原理源码</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/Blog/android/%E4%B8%BB%E6%B5%81%E5%BA%93%E6%BA%90%E7%A0%81/Jetpack/ViewModel%E5%8E%9F%E7%90%86%E6%BA%90%E7%A0%81" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>ViewModel原理源码</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/Blog/android/%E4%B8%BB%E6%B5%81%E5%BA%93%E6%BA%90%E7%A0%81/Jetpack/ViewPager2%E5%8E%9F%E7%90%86%E6%BA%90%E7%A0%81" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>ViewPager2原理源码</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>组件与机制</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/Blog/android/%E7%BB%84%E4%BB%B6%E4%B8%8E%E6%9C%BA%E5%88%B6/Binder%E6%9C%BA%E5%88%B6%E8%AF%A6%E8%A7%A3" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Binder机制详解</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/Blog/android/%E7%BB%84%E4%BB%B6%E4%B8%8E%E6%9C%BA%E5%88%B6/Handler%E6%9C%BA%E5%88%B6%E8%AF%A6%E8%A7%A3" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Handler机制详解</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/Blog/android/%E7%BB%84%E4%BB%B6%E4%B8%8E%E6%9C%BA%E5%88%B6/View%E8%AF%A6%E8%A7%A3" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>View详解</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/Blog/android/%E7%BB%84%E4%BB%B6%E4%B8%8E%E6%9C%BA%E5%88%B6/Window%E8%AF%A6%E8%A7%A3" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Window详解</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 collapsible" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>应用组件</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/Blog/android/%E7%BB%84%E4%BB%B6%E4%B8%8E%E6%9C%BA%E5%88%B6/%E5%BA%94%E7%94%A8%E7%BB%84%E4%BB%B6/Activity%E8%AF%A6%E8%A7%A3" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Activity详解</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/Blog/android/%E7%BB%84%E4%BB%B6%E4%B8%8E%E6%9C%BA%E5%88%B6/%E5%BA%94%E7%94%A8%E7%BB%84%E4%BB%B6/BroadcastReceiver%E8%AF%A6%E8%A7%A3" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>BroadcastReceiver详解</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/Blog/android/%E7%BB%84%E4%BB%B6%E4%B8%8E%E6%9C%BA%E5%88%B6/%E5%BA%94%E7%94%A8%E7%BB%84%E4%BB%B6/ContentProvider%E8%AF%A6%E8%A7%A3" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>ContentProvider详解</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/Blog/android/%E7%BB%84%E4%BB%B6%E4%B8%8E%E6%9C%BA%E5%88%B6/%E5%BA%94%E7%94%A8%E7%BB%84%E4%BB%B6/Fragment%E8%AF%A6%E8%A7%A3" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Fragment详解</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/Blog/android/%E7%BB%84%E4%BB%B6%E4%B8%8E%E6%9C%BA%E5%88%B6/%E5%BA%94%E7%94%A8%E7%BB%84%E4%BB%B6/Service%E8%AF%A6%E8%A7%A3" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Service详解</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>目录</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _Blog_android_%E8%AF%AD%E8%A8%80%E4%B8%8E%E5%9F%BA%E7%A1%80_Android%E5%BA%94%E7%94%A8%E6%9E%84%E5%BB%BA%E6%B5%81%E7%A8%8B" data-v-39a288b8><div><h1 id="android-应用构建流程" tabindex="-1">Android 应用构建流程 <a class="header-anchor" href="#android-应用构建流程" aria-label="Permalink to &quot;Android 应用构建流程&quot;">​</a></h1><h2 id="_1-流程概览" tabindex="-1">1. 流程概览 <a class="header-anchor" href="#_1-流程概览" aria-label="Permalink to &quot;1. 流程概览&quot;">​</a></h2><p>Android 应用的构建可以理解为一条流水线：Gradle 解析工程配置 → 拉取并解析依赖 → 编译 Java/Kotlin 与本地代码 → 处理资源与清单 → 字节码压缩与多 dex 拆分 → 打包生成 APK/AAB → 签名与对齐 → （可选）上传分发/安装并在设备上做 dex 优化。整个过程由 Android Gradle Plugin（AGP）驱动，核心工具链包括 <code>javac/kotlinc</code>、<code>aapt2</code>、<code>d8/r8</code>、<code>bundletool</code>、<code>zipalign</code> 和 <code>apksigner</code> 等。</p><h2 id="_2-构建环境准备" tabindex="-1">2. 构建环境准备 <a class="header-anchor" href="#_2-构建环境准备" aria-label="Permalink to &quot;2. 构建环境准备&quot;">​</a></h2><ul><li><strong>JDK</strong>：AGP 8.x 以后默认要求 JDK 17，IDE 通常内置。注意配置 <code>JAVA_HOME</code>。</li><li><strong>Android SDK &amp; NDK</strong>：包含平台 API、构建工具（<code>build-tools</code>）、平台工具（<code>platform-tools</code>）、<code>cmake/ndk-build</code> 等。通过 Android Studio SDK Manager 或 <code>sdkmanager</code> 安装。</li><li><strong>Gradle &amp; AGP</strong>：Gradle Wrapper（<code>gradlew</code>）确保团队版本一致；<code>com.android.tools.build:gradle</code> 决定构建行为。</li><li><strong>构建缓存与代理</strong>：配置 Gradle 缓存、企业 Maven 仓库与网络代理，以加速依赖解析。</li></ul><h2 id="_3-项目结构与配置解析" tabindex="-1">3. 项目结构与配置解析 <a class="header-anchor" href="#_3-项目结构与配置解析" aria-label="Permalink to &quot;3. 项目结构与配置解析&quot;">​</a></h2><ol><li><strong><code>settings.gradle</code></strong>：列出参与构建的模块（<code>include</code>）、配置仓库镜像、使用版本编录（Version Catalog）。</li><li><strong><code>build.gradle[.kts]</code></strong>：分模块定义插件、Android DSL、依赖、构建变种（<code>buildTypes</code>/<code>productFlavors</code>）、Kotlin 选项等。</li><li><strong>Gradle 初始化阶段</strong>：Gradle 读取 Wrapper → 初始化构建环境 → 配置阶段执行脚本 → 构建任务图。构建缓存、configuration cache 可缩短该阶段。</li></ol><h2 id="_4-主要构建流水线" tabindex="-1">4. 主要构建流水线 <a class="header-anchor" href="#_4-主要构建流水线" aria-label="Permalink to &quot;4. 主要构建流水线&quot;">​</a></h2><h3 id="_4-1-依赖解析" tabindex="-1">4.1 依赖解析 <a class="header-anchor" href="#_4-1-依赖解析" aria-label="Permalink to &quot;4.1 依赖解析&quot;">​</a></h3><ul><li>Gradle 根据 <code>repositories {}</code> 与 <code>dependencies {}</code> 拉取远程/本地依赖，解析 POM 与变体选择（ABI、风味）。</li><li>使用 <code>dependencyResolutionManagement</code> 与版本编录统一版本。</li><li>对 Artifact 做校验（SHA-256），并缓存到 Gradle 本地仓库。</li></ul><h3 id="_4-2-源码编译" tabindex="-1">4.2 源码编译 <a class="header-anchor" href="#_4-2-源码编译" aria-label="Permalink to &quot;4.2 源码编译&quot;">​</a></h3><ul><li><strong>Kotlin</strong>：<code>kotlinc</code> 先编译成 JVM 字节码（<code>.class</code>），再交给 <code>javac</code> pipeline；Kotlin Gradle Plugin 负责任务编排。</li><li><strong>Java</strong>：<code>javac</code> 将源文件编译为 <code>.class</code>，生成 R 类引用资源常量。</li><li><strong>增量/并行编译</strong>：开启 Gradle <code>org.gradle.parallel=true</code>、<code>kapt.incremental.apt=true</code> 等提升效率。</li></ul><h3 id="_4-3-注解处理与字节码织入" tabindex="-1">4.3 注解处理与字节码织入 <a class="header-anchor" href="#_4-3-注解处理与字节码织入" aria-label="Permalink to &quot;4.3 注解处理与字节码织入&quot;">​</a></h3><ul><li><code>kapt</code>、<code>annotationProcessor</code>、<code>ksp</code> 执行代码生成。</li><li>Gradle Transform API 或 ASM/ByteBuddy 进行字节码插桩（传统 Transform 被 AGP 8.x 的 ASM Class Visitors 和 Articulation APIs 替换）。</li></ul><h3 id="_4-4-资源与清单处理" tabindex="-1">4.4 资源与清单处理 <a class="header-anchor" href="#_4-4-资源与清单处理" aria-label="Permalink to &quot;4.4 资源与清单处理&quot;">​</a></h3><ul><li><strong><code>aapt2 compile</code></strong> 将 <code>res/</code> 编译成中间 <code>.flat</code> 资源包。</li><li><strong>资源合并</strong>：主模块 + 依赖 AAR 资源合成，处理命名冲突和叠加。</li><li><strong><code>aapt2 link</code></strong> 生成最终 <code>resources.arsc</code>、<code>res/</code> 目录与 <code>AndroidManifest.xml</code>，并输出 R 类常量表。</li><li><strong>Data Binding/View Binding</strong>：在此阶段生成绑定类。</li><li><strong>构建变种处理</strong>：<code>manifestPlaceholders</code>、<code>buildType</code>/<code>flavor</code> 的资源覆写在此合并。</li></ul><h3 id="_4-5-本地代码构建-可选" tabindex="-1">4.5 本地代码构建（可选） <a class="header-anchor" href="#_4-5-本地代码构建-可选" aria-label="Permalink to &quot;4.5 本地代码构建（可选）&quot;">​</a></h3><ul><li>使用 <code>cmake</code> 或 <code>ndk-build</code> 编译 C/C++ 源文件，输出 <code>.so</code>（ABI 匹配 <code>armeabi-v7a/arm64-v8a</code> 等）。</li><li>Gradle <code>externalNativeBuild</code> 任务协调 ABI 拆分、调试符号（<code>*.so.dbg</code>）。</li></ul><h3 id="_4-6-字节码压缩与-dex-生成" tabindex="-1">4.6 字节码压缩与 dex 生成 <a class="header-anchor" href="#_4-6-字节码压缩与-dex-生成" aria-label="Permalink to &quot;4.6 字节码压缩与 dex 生成&quot;">​</a></h3><ul><li><strong>R8</strong>（默认启用）：执行代码缩减、Tree Shaking、混淆、优化（inlining、constant folding）。配置 <code>proguard-rules.pro</code>。</li><li><strong>D8</strong>：将优化后的 <code>.class</code> 转为 <code>.dex</code>，支持 desugaring（lambda、default method、Java 8 API backport）。</li><li><strong>多 Dex</strong>：当方法数超 65,536 时，AGP 自动拆分 dex（<code>main-dex list</code> 可控制核心类放入主 dex）。</li></ul><h3 id="_4-7-打包产物" tabindex="-1">4.7 打包产物 <a class="header-anchor" href="#_4-7-打包产物" aria-label="Permalink to &quot;4.7 打包产物&quot;">​</a></h3><ul><li><strong>APK</strong>：<code>apkbuilder</code> 将 <code>classes.dex</code>、<code>resources.arsc</code>、<code>res/</code>、<code>assets/</code>、<code>lib/</code>、<code>META-INF/</code> 等打包成 ZIP。</li><li><strong>Android App Bundle (AAB)</strong>：通过 Gradle <code>:app:bundleRelease</code> 调用 <code>bundletool</code> 生成 <code>.aab</code>，用于分发动态特性模块、按需拆分。</li><li><strong>Split APK</strong>：启用 ABI、屏幕密度、语言拆分，可减少下载体积。</li></ul><h3 id="_4-8-签名与对齐" tabindex="-1">4.8 签名与对齐 <a class="header-anchor" href="#_4-8-签名与对齐" aria-label="Permalink to &quot;4.8 签名与对齐&quot;">​</a></h3><ul><li><strong>签名</strong>： <ul><li>V1（Jar Signature）：兼容旧设备；对 ZIP 条目逐条签名。</li><li>V2/V3：对整个 APK 分块签名，更快安全；V3 支持 key rotation。</li><li>V4（可选）：为 Play Store 加速增量更新提供校验。</li><li>使用 <code>apksigner</code> 或 Gradle <code>signingConfig</code> 指定 keystore、别名、密码。</li></ul></li><li><strong>zipalign</strong>：对齐 4 字节边界，降低安装时内存占用。AGP 在 <code>assemble</code> 阶段自动执行。</li></ul><h3 id="_4-9-构建输出与发布" tabindex="-1">4.9 构建输出与发布 <a class="header-anchor" href="#_4-9-构建输出与发布" aria-label="Permalink to &quot;4.9 构建输出与发布&quot;">​</a></h3><ul><li><code>assembleDebug/Release</code> 输出 APK；<code>bundleRelease</code> 输出 AAB。</li><li>使用 <code>gradlew tasks --all</code> 浏览任务图；<code>gradlew :app:assembleRelease --scan</code> 获取 Build Scan 报告。</li><li>发布到 Play：上传 AAB，借助 Play Console 完成签名配置、测试轨道、分阶段发布。</li><li>企业内部分发可使用 APK + MDM 或自建更新平台。</li></ul><h2 id="_5-构建后流程-安装与运行时" tabindex="-1">5. 构建后流程（安装与运行时） <a class="header-anchor" href="#_5-构建后流程-安装与运行时" aria-label="Permalink to &quot;5. 构建后流程（安装与运行时）&quot;">​</a></h2><ol><li>安装器验证签名 → 解压资源 → 写入 <code>/data/app</code>。</li><li>首次运行时 <code>dex2oat</code> 依据设备 profile 生成 <code>.oat/.vdex</code>，加速后续启动。</li><li>Profile Guided Compilation：系统在后台收集热点方法，触发 <code>cmd package compile -m speed-profile</code> 优化。</li></ol><h2 id="_6-构建优化实践" tabindex="-1">6. 构建优化实践 <a class="header-anchor" href="#_6-构建优化实践" aria-label="Permalink to &quot;6. 构建优化实践&quot;">​</a></h2><ul><li><strong>配置缓存</strong>：启用 <code>org.gradle.configuration-cache=true</code>。</li><li><strong>并行与守护进程</strong>：<code>org.gradle.parallel=true</code>、<code>org.gradle.daemon=true</code>。</li><li><strong>本地/远程构建缓存</strong>：<code>gradle.properties</code> 中开启 <code>gradle.buildCache</code>.</li><li><strong>依赖瘦身</strong>：使用 <code>./gradlew :app:dependencies</code>，排查重复依赖；启用 R8 资源压缩（ <code>android.buildFeatures.shrinkResources=true</code>）。</li><li><strong>模块化</strong>：拆分动态特性模块（Dynamic Feature），减少主 APK 体积。</li><li><strong>持续集成</strong>：在 CI（GitHub Actions、Jenkins、GitLab CI）上配置 <code>./gradlew test lint assembleRelease</code>，结合缓存与签名管理。</li></ul><h2 id="_7-常见问题排查" tabindex="-1">7. 常见问题排查 <a class="header-anchor" href="#_7-常见问题排查" aria-label="Permalink to &quot;7. 常见问题排查&quot;">​</a></h2><table tabindex="0"><thead><tr><th>问题</th><th>可能原因</th><th>排查建议</th></tr></thead><tbody><tr><td>构建极慢</td><td>配置阶段耗时、依赖解析过多</td><td>使用 <code>--scan</code> 分析，启用 configuration cache，镜像仓库</td></tr><tr><td>R8 混淆后崩溃</td><td>保留规则缺失</td><td>在 <code>proguard-rules.pro</code> 添加 <code>-keep</code>，启用 stack trace retrace</td></tr><tr><td>MultiDex 崩溃</td><td>主 dex 类缺失</td><td>配置 <code>multiDexKeepFile</code> 或 <code>@Keep</code>，检查 Application 初始化类</td></tr><tr><td>NDK 编译失败</td><td>ABI 不匹配/工具链缺失</td><td>确认 <code>abiFilters</code>、NDK 版本；查看 <code>cmake</code> 日志</td></tr><tr><td>资源冲突</td><td>依赖重复资源名</td><td>使用 <code>aapt2</code> 日志、<code>tools:replace</code>，调整命名空间</td></tr></tbody></table><h2 id="_8-参考与深入阅读" tabindex="-1">8. 参考与深入阅读 <a class="header-anchor" href="#_8-参考与深入阅读" aria-label="Permalink to &quot;8. 参考与深入阅读&quot;">​</a></h2><ul><li>Android 官方文档：<a href="https://developer.android.com/studio/build" target="_blank" rel="noreferrer">https://developer.android.com/studio/build</a></li><li>AOSP 构建系统说明：<a href="https://source.android.com/docs/setup/build" target="_blank" rel="noreferrer">https://source.android.com/docs/setup/build</a></li><li>Android Gradle Plugin DSL：<a href="https://developer.android.com/build/gradle-tips" target="_blank" rel="noreferrer">https://developer.android.com/build/gradle-tips</a></li><li>R8 与代码压缩：<a href="https://developer.android.com/studio/build/shrink-code" target="_blank" rel="noreferrer">https://developer.android.com/studio/build/shrink-code</a></li><li>App Bundle 与 bundletool：<a href="https://developer.android.com/guide/app-bundle" target="_blank" rel="noreferrer">https://developer.android.com/guide/app-bundle</a></li></ul><blockquote><p>提示：若需结合企业自建 CI/CD，可在本文流程基础上补充制品仓库、签名服务（如 Google Play App Signing）、灰度发布策略等扩展环节。</p></blockquote></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><div class="edit-info" data-v-e257564d><div class="edit-link" data-v-e257564d><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/yuan0x00/VitePress/blob/main/docs/android/语言与基础/Android应用构建流程.md" target="_blank" rel="noreferrer" data-v-e257564d><!--[--><span class="vpi-square-pen edit-link-icon" data-v-e257564d></span> Edit this page<!--]--></a></div><div class="last-updated" data-v-e257564d><p class="VPLastUpdated" data-v-e257564d data-v-e98dd255>最近更新: <time datetime="2025-09-28T10:42:32.000Z" data-v-e98dd255></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/Blog/android/%E6%9E%B6%E6%9E%84/%E6%9E%B6%E6%9E%84" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>上一篇</span><span class="title" data-v-e257564d>架构</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/Blog/android/%E8%AF%AD%E8%A8%80%E4%B8%8E%E5%9F%BA%E7%A1%80/Android%E5%BA%94%E7%94%A8%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>下一篇</span><span class="title" data-v-e257564d>Android应用启动流程</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    
    
  </body>
</html>